STOCHF=function(a,b,c){b.fastKMaType=(b.fastKMaType||"SMA").toUpperCase(),b.fastDMaType=(b.fastDMaType||"SMA").toUpperCase(),IndicatorBase.call(this,a,b,c),this.uniqueID=[uuid(),uuid()],this.stoch=new STOCH(a,{fastKPeriod:this.options.fastKPeriod,fastDPeriod:this.options.fastDPeriod,appliedTo:this.options.appliedTo},c),this.kMa=new window[this.options.fastKMaType](this.stoch.indicatorData,{period:this.options.fastKPeriod,maType:this.options.fastKMaType},c),this.indicatorData=this.kMa.indicatorData,this.kData=[];var d=this;this.indicatorData.forEach(function(a){d.kData.push({time:a.time,close:a.value})}),this.dData=new window[b.fastDMaType](this.kData,{period:this.options.fastDPeriod,maType:this.options.fastDMaType},c)},STOCHF.prototype=Object.create(IndicatorBase.prototype),STOCHF.prototype.constructor=STOCHF,STOCHF.prototype.addPoint=function(a){var b=this.stoch.addPoint(a)[0].value,c=this.kMa.addPoint({time:a.time,close:b})[0].value;this.indicatorData=this.kMa.indicatorData;var d=this.dData.addPoint({time:a.time,close:c})[0].value;return[{id:this.uniqueID[0],value:c},{id:this.uniqueID[1],value:d}]},STOCHF.prototype.update=function(a){var b=this.stoch.update(a)[0].value,c=this.kMa.update({time:a.time,close:b})[0].value;this.indicatorData=this.kMa.indicatorData;var d=this.dData.update({time:a.time,close:c})[0].value;return[{id:this.uniqueID[0],value:c},{id:this.uniqueID[1],value:d}]},STOCHF.prototype.toString=function(){return"STOCHF ("+this.options.fastKPeriod+", "+this.options.fastDPeriod+", "+this.indicators.appliedPriceString(this.options.appliedTo)+")"},STOCHF.prototype.buildSeriesAndAxisConfFromData=function(a){var b=[];this.indicatorData.forEach(function(a){b.push([a.time,a.value])});var c=[];return this.dData.indicatorData.forEach(function(a){c.push([a.time,a.value])}),[{axisConf:{id:a.id+"-"+this.uniqueID[0],title:{text:this.toString(),align:"high",offset:0,rotation:0,y:10,x:30+7.5*this.toString().length},lineWidth:2,plotLines:this.options.levels}},{seriesConf:{id:this.uniqueID[0],name:this.toString(),data:b,type:"line",yAxis:a.id+"-"+this.uniqueID[0],color:this.options.stroke,lineWidth:this.options.strokeWidth,dashStyle:this.options.dashStyle,onChartIndicator:!1}},{seriesConf:{id:this.uniqueID[1],name:"%D",data:c,type:"line",yAxis:a.id+"-"+this.uniqueID[0],color:this.options.dStroke,lineWidth:this.options.strokeWidth,dashStyle:this.options.dashStyle,onChartIndicator:!1}}]},STOCHF.prototype.getIDs=function(){return this.uniqueID},STOCHF.prototype.isSameInstance=function(a){return _.isEqual(a.sort(),this.uniqueID)};