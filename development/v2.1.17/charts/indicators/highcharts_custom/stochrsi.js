STOCHRSI=function(a,b,c){IndicatorBase.call(this,a,b,c),this.rsi=new window.RSI(a,b,c),this.CalculateSTOCHRSIValue=function(a){for(var b=this.rsi.indicatorData[a].value,c=this.rsi.indicatorData[a].value,d=0;d<this.options.period;d++)b=Math.max(b,this.rsi.indicatorData[a-d].value),c=Math.min(c,this.rsi.indicatorData[a-d].value);var e=0;return b-c!==0&&(e=(this.rsi.indicatorData[a].value-c)/(b-c)),toFixed(e,4)};for(var d=0;d<a.length;d++)if(d>=this.options.period){var e=this.CalculateSTOCHRSIValue(d);this.indicatorData.push({time:a[d].time,value:e})}else this.indicatorData.push({time:a[d].time,value:0})},STOCHRSI.prototype=Object.create(IndicatorBase.prototype),STOCHRSI.prototype.constructor=STOCHRSI,STOCHRSI.prototype.addPoint=function(a){this.rsi.addPoint(a);var b=this.CalculateSTOCHRSIValue(this.indicatorData.length-1);return this.indicatorData.push({time:a.time,value:b}),[{id:this.uniqueID,value:b}]},STOCHRSI.prototype.update=function(a){var b=this.indicatorData.length-1;this.rsi.update(a);var c=this.CalculateSTOCHRSIValue(b);return this.indicatorData[b].value=c,[{id:this.uniqueID,value:c}]},STOCHRSI.prototype.toString=function(){return" STOCHRSI ("+this.options.period+", "+this.indicators.appliedPriceString(this.options.appliedTo)+")"};