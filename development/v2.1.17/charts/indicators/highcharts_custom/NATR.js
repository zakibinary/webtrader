NATR=function(a,b,c){IndicatorBase.call(this,a,b,c),this.priceData=[],this.atr=new window.ATR(a,b,c);for(var d=0;d<a.length;d++){if(d>=this.options.period-1){var e=c.getIndicatorOrPriceValue(a[d],this.options.appliedTo),f=toFixed(this.atr.indicatorData[d].value/e*100,4);this.indicatorData.push({time:a[d].time,value:f})}else this.indicatorData.push({time:a[d].time,value:0});this.priceData.push(a[d])}},NATR.prototype=Object.create(IndicatorBase.prototype),NATR.prototype.constructor=NATR,NATR.prototype.addPoint=function(a){this.priceData.push(a);var b=(this.priceData.length-1,this.atr.addPoint(a)[0].value),c=this.indicators.getIndicatorOrPriceValue(a,this.options.appliedTo),d=toFixed(b/c*100,4);return this.indicatorData.push({time:a.time,value:d}),[{id:this.uniqueID,value:d}]},NATR.prototype.update=function(a){var b=this.priceData.length-1;this.priceData[b].open=a.open,this.priceData[b].high=a.high,this.priceData[b].low=a.low,this.priceData[b].close=a.close;var c=this.atr.update(a)[0].value,d=this.indicators.getIndicatorOrPriceValue(a,this.options.appliedTo),e=toFixed(c/d*100,4);return this.indicatorData[b].value=e,[{id:this.uniqueID,value:e}]},NATR.prototype.toString=function(){return"NATR ("+this.options.period+", "+this.indicators.appliedPriceString(this.options.appliedTo)+")"};