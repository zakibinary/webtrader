AROON=function(a,b,c){IndicatorBase.call(this,a,b,c),this.priceData=[],this.aroonDownData=[],this.uniqueID=[uuid(),uuid()],this.CalculateAROONValue=function(a,b){for(var c=a[b].high,d=a[b].low,e=0,f=0,g=0;g<this.options.period;g++)a[b-g].high>c&&(c=a[b-g].high,e=g),a[b-g].low<d&&(d=a[b-g].low,f=g);var h=(this.options.period-e)/this.options.period*100,i=(this.options.period-f)/this.options.period*100;return{aroonUp:h,aroonDown:i}};for(var d=0;d<a.length;d++){if(d>=this.options.period-1){var e=this.CalculateAROONValue(a,d);this.indicatorData.push({time:a[d].time,value:e.aroonUp}),this.aroonDownData.push({time:a[d].time,value:e.aroonDown})}else this.indicatorData.push({time:a[d].time,value:0}),this.aroonDownData.push({time:a[d].time,value:0});this.priceData.push(a[d])}},AROON.prototype=Object.create(IndicatorBase.prototype),AROON.prototype.constructor=AROON,AROON.prototype.addPoint=function(a){this.priceData.push(a);var b=this.CalculateAROONValue(this.priceData,this.priceData.length-1);return this.indicatorData.push({time:a.time,value:b.aroonUp}),this.aroonDownData.push({time:a.time,value:b.aroonDown}),[{id:this.uniqueID[0],value:b.aroonUp},{id:this.uniqueID[1],value:b.aroonDown}]},AROON.prototype.update=function(a){var b=this.priceData.length-1;this.priceData[b].open=a.open,this.priceData[b].high=a.high,this.priceData[b].low=a.low,this.priceData[b].close=a.close;var c=this.CalculateAROONValue(this.priceData,b);return this.indicatorData[b].value=c.aroonUp,this.aroonDownData[b].value=c.aroonDown,[{id:this.uniqueID[0],value:c.aroonUp},{id:this.uniqueID[1],value:c.aroonDown}]},AROON.prototype.toString=function(){return"AROON ("+this.options.period+", "+this.indicators.appliedPriceString(this.options.appliedTo)+")"},AROON.prototype.buildSeriesAndAxisConfFromData=function(a){var b=[];this.indicatorData.forEach(function(a){b.push([a.time,a.value])});var c=[];return this.aroonDownData.forEach(function(a){c.push([a.time,a.value])}),[{axisConf:{id:a.id+"-"+this.uniqueID[0],title:{text:this.toString(),align:"high",offset:0,rotation:0,y:10,x:30+7.5*this.toString().length},lineWidth:2,plotLines:this.options.levels}},{seriesConf:{id:this.uniqueID[0],name:"AROONUP - "+this.toString(),data:b,type:"line",yAxis:a.id+"-"+this.uniqueID[0],color:this.options.aroonUpStroke,lineWidth:this.options.strokeWidth,dashStyle:this.options.dashStyle,onChartIndicator:!1}},{seriesConf:{id:this.uniqueID[1],name:"AROONDOWN - "+this.toString(),data:c,type:"line",yAxis:a.id+"-"+this.uniqueID[0],color:this.options.aroonDownStroke,lineWidth:this.options.strokeWidth,dashStyle:this.options.dashStyle,onChartIndicator:!1}}]},AROON.prototype.getIDs=function(){return this.uniqueID},AROON.prototype.isSameInstance=function(a){return _.isEqual(a.sort(),this.uniqueID)};