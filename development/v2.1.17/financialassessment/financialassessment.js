define(["exports","common/rivetsExtra","text!./financialassessment.html","jquery","windows/windows","lodash","websockets/binary_websockets","common/util","jquery-growl","css!./financialassessment.css"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0}),a.init=void 0;var i=h(b),j=h(c),k=h(d),l=h(e),m=(h(f),h(g)),n=null,o=null,p=a.init=function(){if(n)n.moveToTop();else{n=l["default"].createBlankWindow(k["default"](j["default"]).i18n(),{title:"Financial Assessment".i18n(),width:700,height:500,resizable:!1,collapsable:!1,minimizable:!1,maximizable:!1,closable:!0,closeOnEscape:!1,modal:!0,ignoreTileAction:!0,close:function(){o.unbind(),o=null,n.dialog("destroy"),n=null}});var a={financial:{experience_array:["0-1 year","1-2 years","Over 3 years"],frequency_array:["0-5 transactions in the past 12 months","6-10 transactions in the past 12 months","40 transactions or more in the past 12 months"],forex_trading_experience:"",forex_trading_frequency:"",indices_trading_experience:"",indices_trading_frequency:"",commodities_trading_experience:"",commodities_trading_frequency:"",stocks_trading_experience:"",stocks_trading_frequency:"",other_derivatives_trading_experience:"",other_derivatives_trading_frequency:"",other_instruments_trading_experience:"",other_instruments_trading_frequency:"",employment_industry_array:["Construction","Education","Finance","Health","Tourism","Other"],employment_industry:"",education_level_array:["Primary","Secondary","Tertiary"],education_level:"",income_source_array:["Salaried Employee","Self-Employed","Investments & Dividends","Pension","Other"],income_source:"",net_income_array:["Less than $25,000","$25,000 - $50,000","$50,001 - $100,000","$100,001 - $500,000","Over $500,000"],net_income:"",estimated_worth_array:["Less than $100,000","$100,000 - $250,000","$250,001 - $500,000","$500,001 - $1,000,000","Over $1,000,000"],estimated_worth:"",account_turnover_array:["Less than $25,000","$25,000 - $50,000","$50,001 - $100,000","$100,001 - $500,000","Over $500,000"],account_turnover:"",occupation_array:["Chief Executives, Senior Officials and Legislators","Managers","Professionals","Clerks","Personal Care, Sales and Service Workers","Agricultural, Forestry and Fishery Workers","Craft, Metal, Electrical and Electronics Workers","Plant and Machine Operators and Assemblers","Mining, Construction, Manufacturing and Transport Workers","Armed Forces","Government Officers","Others"],occupation:"",employment_status:"",employment_status_array:["Employed","Pensioner","Self-Employed","Student","Unemployed"],source_of_wealth:"",source_of_wealth_array:["Accumulation of Income/Savings","Cash Business","Company Ownership","Divorce Settlement","Inheritance","Investment Income","Sale of Property","Other"],disabled:!1},empty_field:!1,validate:function(){return""===a.financial.forex_trading_experience||""===a.financial.forex_trading_frequency||""===a.financial.indices_trading_experience||""===a.financial.indices_trading_frequency||""===a.financial.commodities_trading_experience||""===a.financial.commodities_trading_frequency||""===a.financial.stocks_trading_experience||""===a.financial.stocks_trading_frequency||""===a.financial.other_derivatives_trading_experience||""===a.financial.other_derivatives_trading_frequency||""===a.financial.other_instruments_trading_experience||""===a.financial.other_instruments_trading_frequency||""===a.financial.employment_industry||""===a.financial.occupation||""===a.financial.education_level||""===a.financial.income_source||""===a.financial.net_income||""===a.financial.account_turnover||""===a.financial.estimated_worth||""===a.financial.employment_status||""===a.financial.source_of_wealth}};a.submit=function(){if(a.empty_field=a.validate(),!a.empty_field){a.financial.disabled=!0;var b={set_financial_assessment:1,forex_trading_experience:a.financial.forex_trading_experience,forex_trading_frequency:a.financial.forex_trading_frequency,indices_trading_experience:a.financial.indices_trading_experience,indices_trading_frequency:a.financial.indices_trading_frequency,commodities_trading_experience:a.financial.commodities_trading_experience,commodities_trading_frequency:a.financial.commodities_trading_frequency,stocks_trading_experience:a.financial.stocks_trading_experience,stocks_trading_frequency:a.financial.stocks_trading_frequency,other_derivatives_trading_experience:a.financial.other_derivatives_trading_experience,other_derivatives_trading_frequency:a.financial.other_derivatives_trading_frequency,other_instruments_trading_experience:a.financial.other_instruments_trading_experience,other_instruments_trading_frequency:a.financial.other_instruments_trading_frequency,employment_industry:a.financial.employment_industry,education_level:a.financial.education_level,income_source:a.financial.income_source,net_income:a.financial.net_income,estimated_worth:a.financial.estimated_worth,account_turnover:a.financial.account_turnover,occupation:a.financial.occupation,employment_status:a.financial.employment_status,source_of_wealth:a.financial.source_of_wealth};m["default"].send(b).then(function(){o.unbind(),o=null,n.dialog("destroy"),n=null,window.location.reload()})["catch"](function(b){a.financial.disabled=!1})}},m["default"].cached.send({get_financial_assessment:1}).then(function(b){var c=b.get_financial_assessment;Object.keys(c).forEach(function(b){a.financial[b]=c[b]})}),o=i["default"].bind(n,a),n.dialog("open")}};a["default"]={init:p}});